const app={lastScrollTop:0,init:function(){window.addEventListener("scroll",function(e){}),document.querySelectorAll('[data-action="submenu"]').forEach(function(e,t){e.addEventListener("mouseenter",header),e.addEventListener("mouseleave",header)})}};function header(e){if(console.log(e.type),"mouseenter"==e.type)document.querySelector("header").classList.add("sub-active");else if("mouseleave"==e.type)document.querySelector("header").classList.remove("sub-active");else if("scroll"==e.type){window.pageYOffset>window.innerHeight?document.querySelector("header").classList.add("fixed"):document.querySelector("header").classList.remove("fixed");let e=window.pageYOffset||document.documentElement.scrollTop;e>app.lastScrollTop?console.log("downscroll"):console.log("upscroll"),app.lastScrollTop=e<=0?0:e}}const _homepage=function(e){let t=this;this.mySwiper=new Swiper(".swiper-container",{speed:800,pagination:{el:".slider-pagination",type:"fraction"},navigation:{nextEl:".slider-button-next",prevEl:".slider-button-prev"}}),this.resizeHomepage=function(e){t.hero.heroBgCover(),t.hero.hero.renderer.resize(t.hero.el.clientWidth,t.hero.el.clientHeight),t.hero.bg.width=t.hero.heroBgWidth,t.hero.bg.height=t.hero.heroBgHeight,t.hero.bg.x=t.hero.heroBgLeft,t.hero.bg.y=t.hero.heroBgTop,t.hero.displacementSprite.width=t.hero.hero.renderer.width/2,t.hero.displacementSprite.height=t.hero.hero.renderer.height/2,t.drag.drag.renderer.resize(t.drag.el.clientWidth,t.drag.el.clientHeight),t.drag.img1.width=t.drag.el.clientWidth,t.drag.img1.height=t.drag.el.clientHeight,t.drag.img2.width=t.drag.el.clientWidth,t.drag.img2.height=t.drag.el.clientHeight,t.drag.pat1.width=t.drag.el.clientWidth,t.drag.pat1.height=t.drag.el.clientHeight,t.drag.pat2.width=t.drag.el.clientWidth,t.drag.pat2.height=t.drag.el.clientHeight;const r=[0,t.drag.drag.renderer.height,0,0,t.drag.drag.renderer.width/2+t.drag.drag.renderer.width/2/2.95,0,t.drag.drag.renderer.width/2-t.drag.drag.renderer.width/2/2.95,t.drag.drag.renderer.height];t.drag.dragPoligon1.clear(),t.drag.dragPoligon1=(new PIXI.Graphics).lineStyle(0).beginFill(16777215,1).drawPolygon(r).endFill(),t.drag.container1.addChild(t.drag.dragPoligon1),t.drag.img1.mask=t.drag.dragPoligon1;const i=[t.drag.drag.renderer.width/2-t.drag.drag.renderer.width/2/2.95,t.drag.drag.renderer.height,t.drag.drag.renderer.width/2+t.drag.drag.renderer.width/2/2.95,0,2*t.drag.drag.renderer.width,0,2*t.drag.drag.renderer.width,t.drag.drag.renderer.height];t.drag.dragPoligon2.clear(),t.drag.dragPoligon2=(new PIXI.Graphics).lineStyle(0).beginFill(16777215,1).drawPolygon(i).endFill(),t.drag.container2.addChild(t.drag.dragPoligon2),t.drag.img2.mask=t.drag.dragPoligon2,t.drag.patPoligon1.clear(),t.drag.patPoligon1=t.drag.dragPoligon1.clone(),t.drag.pat1.mask=t.drag.patPoligon1,t.drag.patPoligon2.clear(),t.drag.patPoligon2=t.drag.dragPoligon2.clone(),t.drag.pat2.mask=t.drag.patPoligon2},this.eventsInit=function(){window.addEventListener("resize",this.resizeHomepage),document.querySelector('[data-action="homepage-drag"]').addEventListener("mousedown",function(e){t.drag.dragMove=!0,t.drag.dragx=e.clientX}),document.querySelector('[data-action="homepage-drag"]').addEventListener("mouseup",function(e){t.drag.dragDone||(t.drag.dragMove=!1,t.drag.dragx=0,TweenMax.to('[data-action="homepage-drag"]',.5,{x:0,ease:Power2.easeOut}),TweenMax.to([t.drag.container1,t.drag.container2],.5,{x:0,ease:Power2.easeOut}))}),document.querySelector(".homepage__drag").addEventListener("mousemove",t.drag.dragControl),document.querySelector(".homepage__drag .button-circle").addEventListener("mouseenter",function(e){document.querySelector(".homepage__drag .homepage__drag_dots").classList.add("active")}),document.querySelector(".homepage__drag .button-circle").addEventListener("mouseleave",function(e){document.querySelector(".homepage__drag .homepage__drag_dots").classList.remove("active")})},this.hero=new function(){let e=this;function t(t){TweenMax.to(e.displacementSprite,1.5,{x:t.data.global.x-25,y:t.data.global.y})}this.heroBgCover=function(){document.body.clientWidth/window.innerHeight>1.5?(this.heroBgWidth=document.body.clientWidth,this.heroBgHeight=document.body.clientWidth/1.5,this.heroBgTop=-(document.body.clientWidth/1.5-window.innerHeight)/2,this.heroBgLeft=0):(this.heroBgWidth=1.5*window.innerHeight,this.heroBgHeight=window.innerHeight,this.heroBgTop=0,this.heroBgLeft=-(1.5*window.innerHeight-document.body.clientWidth)/2)},this.heroBgCover(),this.el=document.querySelector(".homepage__hero"),this.hero=new PIXI.Application({width:this.el.clientWidth,height:this.el.clientHeight}),this.el.appendChild(this.hero.view),this.hero.stage.interactive=!0,this.video=PIXI.Texture.from("./img/home.mp4"),this.video.baseTexture.source.loop=!0,this.video.baseTexture.source.autoplay=!0,this.video.baseTexture.source.muted=!0,this.bg=new PIXI.Sprite(this.video),this.bg.width=this.heroBgWidth,this.bg.height=this.heroBgHeight,this.bg.x=this.heroBgLeft,this.bg.y=this.heroBgTop,this.hero.stage.addChild(this.bg),this.displacementSprite=PIXI.Sprite.from("./img/displacement.png"),this.displacementSprite.width=document.body.clientWidth/2,this.displacementSprite.height=document.body.clientWidth/2,this.displacementSprite.anchor.set(.5),this.displacementFilter=new PIXI.filters.DisplacementFilter(this.displacementSprite),this.displacementFilter.scale.x=40,this.displacementFilter.scale.y=40,this.hero.stage.addChild(this.displacementSprite),this.bg.filters=[this.displacementFilter],this.hero.stage.on("mousemove",t).on("touchmove",t)},this.drag=new function(){this.el=document.querySelector(".homepage__drag"),this.drag=new PIXI.Application({width:this.el.clientWidth,height:this.el.clientHeight}),this.el.appendChild(this.drag.view),this.container1=new PIXI.Container,this.container2=new PIXI.Container,this.pat1=PIXI.Sprite.from("./img/"+this.el.getAttribute("data-pat-left")),this.pat1.width=this.el.clientWidth,this.pat1.height=this.el.clientHeight,this.pat1.x=0,this.pat1.y=0,this.drag.stage.addChild(this.pat1),this.pat2=PIXI.Sprite.from("./img/"+this.el.getAttribute("data-pat-right")),this.pat2.width=this.el.clientWidth,this.pat2.height=this.el.clientHeight,this.pat2.x=0,this.pat2.y=0,this.drag.stage.addChild(this.pat2),this.img1=PIXI.Sprite.from("./img/"+this.el.getAttribute("data-img-left")),this.img1.width=this.el.clientWidth,this.img1.height=this.el.clientHeight,this.img1.x=0,this.img1.y=0,this.container1.addChild(this.img1);const e=[0,this.drag.renderer.height,0,0,this.drag.renderer.width/2+this.drag.renderer.width/2/2.95,0,this.drag.renderer.width/2-this.drag.renderer.width/2/2.95,this.drag.renderer.height];this.dragPoligon1=(new PIXI.Graphics).lineStyle(0).beginFill(16777215,1).drawPolygon(e).endFill(),this.container1.addChild(this.dragPoligon1),this.img1.mask=this.dragPoligon1,this.drag.stage.addChild(this.container1),this.img2=PIXI.Sprite.from("./img/"+this.el.getAttribute("data-img-right")),this.img2.width=this.el.clientWidth,this.img2.height=this.el.clientHeight,this.img2.x=0,this.img2.y=0,this.container2.addChild(this.img2);const r=[this.drag.renderer.width/2-this.drag.renderer.width/2/2.95,this.drag.renderer.height,this.drag.renderer.width/2+this.drag.renderer.width/2/2.95,0,2*this.drag.renderer.width,0,2*this.drag.renderer.width,this.drag.renderer.height];this.dragPoligon2=(new PIXI.Graphics).lineStyle(0).beginFill(16777215,1).drawPolygon(r).endFill(),this.container2.addChild(this.dragPoligon2),this.img2.mask=this.dragPoligon2,this.drag.stage.addChild(this.container2),this.patPoligon1=this.dragPoligon1.clone(),this.pat1.mask=this.patPoligon1,this.patPoligon2=this.dragPoligon2.clone(),this.pat2.mask=this.patPoligon2,this.dragMove=!1,this.dragx=0,this.dragDone=!1,this.dragControl=function(e){if(t.drag.dragMove){let r=t.drag.el.clientWidth/2/3,i=e.clientX-t.drag.dragx;i<0&&i>-r?(TweenMax.to(t.drag.container1,0,{x:i}),TweenMax.to(t.drag.container2,0,{x:0}),TweenMax.to('[data-action="homepage-drag"]',0,{x:i})):i>0&&i<r?(TweenMax.to(t.drag.container1,0,{x:0}),TweenMax.to(t.drag.container2,0,{x:i}),TweenMax.to('[data-action="homepage-drag"]',0,{x:i})):(i<-r||i>r)&&(t.drag.dragMove=!1,t.drag.dragDone=!0,console.log(),i<-r?(TweenMax.to(t.drag.container1,1.2,{x:-t.drag.el.clientWidth,ease:Power2.easeInOut}),TweenMax.to(t.drag.container2,0,{x:0})):i>r&&(TweenMax.to(t.drag.container1,0,{x:0}),TweenMax.to(t.drag.container2,1.2,{x:t.drag.el.clientWidth,ease:Power2.easeInOut})))}}},buttonsRender(),formRender(),this.eventsInit()};function buttonsRender(){document.querySelectorAll(".button-circle").forEach(function(e,t){var r=e.getAttribute("data-text").replace(" ","&nbsp;"),i=document.createElement("div"),a=document.createElement("div"),d=document.createElement("div");i.className="text",a.className="top",d.className="bot",a.innerHTML=r,d.innerHTML=r;var n=new SplitText(a,{type:"chars"}),o=new SplitText(d,{type:"chars"});i.appendChild(a),i.appendChild(d),e.appendChild(i);var h=100/n.chars.length,s=0,g=75;for(var t in n.chars)n.chars[t].style.height=g+"px","i"==n.chars[t].innerText.toLowerCase()?n.chars[t].style.transform="rotate("+(s+2)+"deg)":"r"==n.chars[t].innerText.toLowerCase()?n.chars[t].style.transform="rotate("+(s+2)+"deg)":"o"==n.chars[t].innerText.toLowerCase()?n.chars[t].style.transform="rotate("+(s+2)+"deg)":n.chars[t].style.transform="rotate("+s+"deg)",s+=h;for(var t in s=180,o.chars)o.chars[t].style.height=g+"px","i"==o.chars[t].innerText.toLowerCase()?o.chars[t].style.transform="rotate("+(s+2)+"deg)":"r"==o.chars[t].innerText.toLowerCase()?o.chars[t].style.transform="rotate("+(s+2)+"deg)":"o"==o.chars[t].innerText.toLowerCase()?o.chars[t].style.transform="rotate("+(s+2)+"deg)":o.chars[t].style.transform="rotate("+s+"deg)",s+=h;if(e.getAttribute("data-hover")){var l=e.getAttribute("data-hover").replace(" ","&nbsp;");i=document.createElement("div"),a=document.createElement("div"),d=document.createElement("div");i.className="hover",a.className="top",d.className="bot",a.innerHTML=l,d.innerHTML=l;n=new SplitText(a,{type:"chars"}),o=new SplitText(d,{type:"chars"});i.appendChild(a),i.appendChild(d),e.appendChild(i);h=80/n.chars.length,s=0,g=75;for(var t in n.chars)n.chars[t].style.height=g+"px","i"==n.chars[t].innerText.toLowerCase()?n.chars[t].style.transform="rotate("+(s+2)+"deg)":"r"==n.chars[t].innerText.toLowerCase()?n.chars[t].style.transform="rotate("+(s+2)+"deg)":"o"==n.chars[t].innerText.toLowerCase()?n.chars[t].style.transform="rotate("+(s+2)+"deg)":n.chars[t].style.transform="rotate("+s+"deg)",s+=h;for(var t in s=180,o.chars)o.chars[t].style.height=g+"px","i"==o.chars[t].innerText.toLowerCase()?o.chars[t].style.transform="rotate("+(s+2)+"deg)":"r"==o.chars[t].innerText.toLowerCase()?o.chars[t].style.transform="rotate("+(s+2)+"deg)":"o"==o.chars[t].innerText.toLowerCase()?o.chars[t].style.transform="rotate("+(s+2)+"deg)":o.chars[t].style.transform="rotate("+s+"deg)",s+=h}})}function formRender(){document.querySelectorAll(".form-control").forEach(function(e,t){let r=document.createElement("i");e.appendChild(r)})}app.init(),app.homepage=new _homepage;